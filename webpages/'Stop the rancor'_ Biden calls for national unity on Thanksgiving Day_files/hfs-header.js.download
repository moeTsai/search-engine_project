"use strict";(()=>{function a(){const{navCls:a}=E;let b=!1;const{globalNav:c=!0,globalNavInsert:d=!1}=HFSconfig.header||{};c?(d&&(a.add("show-global"),a.add("has-global-insert")),C.add(({position:a,down:c})=>{600<a&&(c&&!b?E.eventDispatch(x("global","stash")):!c&&b&&E.eventDispatch(x("global","reveal")))})):(a.add("hide-global"),a.rem("show-global")),E.eventListenAdd(w.global.stash,()=>{b=!0,a.add("stash-global")}),E.eventListenAdd(w.global.reveal,()=>{b=!1,a.rem("stash-global")})}function b(){function a(a){function b(a){a.preventDefault(),h&&(h.style.display=""),k.classList.add("dn"),m.classList.add("dn"),l.forEach(a=>a.classList.add("dn")),i.forEach(a=>{a.classList.remove("dn")}),f.querySelector("a").focus()}function c(a){if("Enter"===a.key&&a.target===k)b(a);else if("Escape"===a.key)b(a);else if("Tab"===a.key){const b=g[1],c=g[g.length-1];a.shiftKey?a.target===b&&(c.focus(),a.preventDefault()):a.target===c&&(b.focus(),a.preventDefault())}}a.preventDefault();const{target:d}=a,e=d.closest(".shortcuts-dropdown-list"),f=d.closest(".shortcuts-dropdown-item"),g=f.querySelectorAll(".shortcuts-dropdown-item-link"),h=e.querySelector(":scope > .all-link"),i=e.querySelectorAll(".shortcuts-dropdown-item-link-with-submenu"),j=d.getAttribute("data-track-menu-name"),k=e.querySelector(`[data-track-menu-name="${j}-back-btn"]`),l=e.querySelectorAll(`[data-track-menu-name="${j}-submenu"]`),m=e.querySelector(`[data-track-sub-link="${j}-submenu"]`);h&&(h.style.display="none"),k.classList.remove("dn"),m.classList.remove("dn"),l.forEach(a=>a.classList.remove("dn")),k.focus(),k.addEventListener("click",b),g.forEach(a=>{a.addEventListener("keydown",c)}),i.forEach(a=>{a.classList.toggle("dn")})}const b=E.QS(".shortcuts-list-item--dd, .shortcuts-list-item--click-dd");if(!b)return;let c,d,e;const f=o.querySelectorAll(".shortcuts-dropdown-item-link"),g=(a,b)=>`${a.textContent.trim().replace(/\s+/g,"-").toLowerCase()}-${b}`,h=(a,b)=>{const c=b.querySelector("a"),d=g(c,"dropdown");b.setAttribute("aria-controls",d),a&&a.setAttribute("id",d)},i=a=>{const b=a.querySelector("a"),f=document.getElementById(a.getAttribute("aria-controls")),g=a.querySelector(".shortcuts-dropdown-list");let h=document.querySelector(".content");if(h||(h=document.createElement("div"),h.classList.add("content"),document.getElementById("hfs-header").appendChild(h)),!!g){const i=g.querySelectorAll("a");"true"===b.getAttribute("aria-expanded")?(i.forEach(a=>a.setAttribute("tabindex","-1")),Array.from(document.querySelectorAll(".shortcuts-dropdown-item-link-with-submenu")).forEach(a=>{a.classList.contains("dn")&&a.classList.remove("dn")}),Array.from(document.querySelectorAll(".js-l3-dropdown")).forEach(a=>{a.classList.contains("dn")||a.classList.add("dn")}),b.setAttribute("aria-expanded",!1),f.setAttribute("aria-hidden",!0),Array.from(document.querySelectorAll(".shortcuts-list-item")).forEach(a=>{a.classList.remove("inactive")}),a.classList.remove("shortcuts-dropdown-open"),h.classList.remove("overlay"),document.activeElement.blur(),clearTimeout(d),clearTimeout(e),f.style.maxHeight="0px",c=!1):(i.forEach(a=>{a.setAttribute("tabindex","0")}),b.setAttribute("aria-expanded",!0),f.setAttribute("aria-hidden",!1),Array.from(document.querySelectorAll(".shortcuts-list-item")).forEach(b=>{a!==b&&b.classList.add("inactive")}),h.classList.add("overlay"),a.classList.add("shortcuts-dropdown-open"),d=setTimeout(()=>{f.style.maxHeight="999999px"}),e=setTimeout(()=>{E.eventDispatch(x("dropdown","open",{menuName:b.dataset.trackMenuName}))},1e3),c=a)}},j=a=>{const b=a.target.closest(".shortcuts-list-item");c&&b!==c&&i(c),i(b)},k=a=>{const b=a.querySelector("a"),c=b.getAttribute("href"),d=a.querySelector(".shortcuts-dropdown-list"),e=d.querySelector(".shortcuts-dropdown-item"),f=e.querySelector("a"),h=e.cloneNode(!0),i=h.querySelector("a");i.setAttribute("href",c),i.innerHTML=b.innerHTML;const j=h.getAttribute("id");if(null===j){const a=g(b,"added-top-item");h.setAttribute("id",a),d.prepend(h),i.focus()}else f.focus()},l=a=>{const b="ArrowLeft"===a.key,c="ArrowRight"===a.key,d="ArrowUp"===a.key,e="ArrowDown"===a.key;if(!(b||c||d||e))return;a.preventDefault();const f=a.target.closest(".shortcuts-list-item"),g=a.target.closest(".shortcuts-dropdown-item"),h=f&&f.previousSibling,i=f&&f.nextSibling,j=g&&g.previousSibling,k=g&&g.nextSibling;b&&h&&(()=>h.querySelector("a").focus())(),c&&i&&(()=>i.querySelector("a").focus())(),d&&j&&(()=>j.querySelector("a").focus())(),e&&k&&(()=>k.querySelector("a").focus())()},m=a=>{const b="Escape"===a.key,d="ArrowLeft"===a.key,e="ArrowRight"===a.key,f="Tab"===a.key;if((b||d||e||f)&&!(b&&a.target.classList.contains("js-l3-dropdown"))&&(!f&&a.target.closest(".shortcuts-dropdown-open")&&(j(a),b&&a.target.closest(".shortcuts-list-item").nextSibling&&a.target.closest(".shortcuts-list-item").nextSibling.querySelector("a").focus()),f&&c)){const b=c.querySelectorAll(".shortcuts-dropdown-item a:first-child"),d=b[0],e=b[b.length-1];a.shiftKey?document.activeElement===d&&(e.focus(),a.preventDefault()):document.activeElement===e&&(d.focus(),a.preventDefault())}},n=a=>{const b="Enter"===a.key,c=" "===a.key;if(b||c){a.preventDefault();const b=a.target.parentNode.classList.contains("shortcuts-list-item--click-dd");b||k(a.target.parentNode),j(a)}};document.addEventListener("click",a=>{c&&!a.target.closest(".shortcuts-dropdown-open")&&i(c)}),E.QS(".shortcuts-list").addEventListener("keydown",a=>{(a.target.classList.contains("shortcuts-list-item-link")||a.target.classList.contains("shortcuts-dropdown-item-link"))&&(l(a),m(a)),a.target.classList.contains("shortcuts-list-item-link")&&n(a),a.target.classList.contains("shortcuts-dropdown-item-link")&&("Enter"===a.key&&a.stopPropagation()," "===a.key&&(a.preventDefault(),window.location.href=a.target.getAttribute("href")))}),A(".shortcuts-list-item",a=>{const b=a.querySelector(".shortcuts-dropdown");h(b,a);const c=a.classList.contains("shortcuts-list-item--click-dd");c?a.addEventListener("click",a=>{a.target.closest(".shortcuts-list-item-link")&&(a.preventDefault(),j(a))}):(a.addEventListener("mouseenter",b=>{a.classList.contains("shortcuts-dropdown-open")||j(b),a.querySelector("a").blur(),f.forEach(a=>a.blur()),document.querySelectorAll("[id*=\"-added-top-item\"]").forEach(a=>a.remove())}),a.addEventListener("mouseleave",j))}),r.matches||document.querySelectorAll(".shortcuts-dropdown-item-link-with-submenu").forEach(b=>{b.addEventListener("keydown",b=>{"Enter"===b.key&&a(b),l(b)}),b.addEventListener("click",a)});const p=a=>a.target.closest(".shortcuts-list-item-link"),q=a=>a.target.closest(".shortcuts-dropdown-item-link");E.QS(".shortcuts-list").addEventListener("click",a=>{const b=p(a)&&"Main"||q(a)&&"Sublink",c=p(a)&&a.target.dataset.menuName||q(a)&&a.target.dataset.trackMenuName;(p(a)||q(a))&&E.eventDispatch(x("dropdown","click",{menuType:b,menuName:c}))})}function c(){const{navCls:a}=E,{mobileNavInsert:b=!1}=HFSconfig.header||{};b&&a.add("has-mobilenav-insert")}function d(){const{enableIdentity:a}=HFSconfig.header||{};E.identity=new F(HFSconfig.brand);const b=E.identity.config.enabled,c=a===void 0?b:a;if(!c)return;const d=document.cookie.includes("ng_geolocation=US");if(!d)return;const{QS:e,navCls:f}=E;f.add("show-identity");const g=e(".js-login-wrapper"),h=E.QS(".js-auth-options"),i=E.QS(".login__tooltip-container"),j=E.QS(".login__dropdown");g.style.display="flex",h.style.display="block",i.style.display="block",j.style.display="block";const{pageView:k}=HFSconfig,l=E.QS(".js-login-wrapper__svg"),m=E.QS(".js-sign-in"),p=E.QS(".js-sign-out"),q=E.QS(".js-tooltip"),s=E.QS(".hamburger.js-menu-toggle"),v=E.QS(".bell-icon.js-digest-toggle"),y=E.QS(".js-authenticated"),z=E.QS(".js-unauthenticated");let A;const B="login-open",C="login-close",D=()=>{f.has(B)&&(f.add(C),setTimeout(()=>{f.rem(C)},500),f.rem(B))};E.eventListenAdd(w.local.active,()=>{D()}),E.eventListenAdd(w.share.open,()=>{D()}),E.eventListenAdd(w.menu.open,()=>{D()}),E.eventListenAdd(w.digest.open,()=>{D()});const G=()=>{f.has(B)?D():f.add(B)},H=()=>{clearTimeout(A),f.add(B)},I=()=>{A=setTimeout(()=>{D()},500)},J=()=>{f.add("tooltip-hovered"),q.classList.add("tooltip-show"),q.classList.remove("tooltip-hide");let a=n._HFS.tooltip.default;["article","video"].includes(k)&&"today"!==HFSconfig.brand&&(a=`${n._HFS.tooltip.currentPageView} ${k}`),q.innerHTML=`<span>${a}</span>`},K=()=>{q.classList.remove("tooltip-hide"),q.classList.remove("tooltip-show"),f.rem("tooltip-hovered"),q.innerHTML=""},L=()=>{clearTimeout(A),f.add(B)},M=()=>{A=setTimeout(()=>{D()},500)},N=()=>{p.addEventListener("click",G),p.removeEventListener("mouseenter",H),p.removeEventListener("mouseleave",I),h.removeEventListener("mouseenter",L),h.removeEventListener("mouseleave",M)},O=()=>{p.addEventListener("mouseenter",H),p.addEventListener("mouseleave",I),h.addEventListener("mouseenter",L),h.addEventListener("mouseleave",M),p.removeEventListener("click",G)},{_HFS:{identity:P={}}={}}=n,{options:Q={}}=P;Q.debug=/dev|stage/.test(Q.env);const R=a=>{E.eventDispatch(x("id","error",{error:a}))},S=()=>{const a=a=>{a.matches?(m.removeEventListener("mouseenter",J),m.removeEventListener("mouseleave",K),K()):(m.addEventListener("mouseenter",J),m.addEventListener("mouseleave",K),s.removeEventListener("click",K),null===v||void 0===v?void 0:v.removeEventListener("click",K),!f.has("active")&&K())};a(r),r.addEventListener("change",a)},T=a=>{E.eventDispatch(x("id","init",{init:a})),l.style.opacity="1",m.addEventListener("click",()=>{E.identity.authenticate(),K(),E.eventDispatch(x("id","click"))});const b=a=>{D(),a.matches?N():O()};b(r),r.addEventListener("change",b)},U=()=>{y&&(y.style.display="flex"),z&&(z.style.display="none"),m.classList.add("h-dn"),p.classList.remove("h-dn")},V=()=>{y&&(y.style.display="none"),z&&(z.style.display="flex"),m.classList.remove("h-dn"),p.classList.add("h-dn"),f.has(B)&&D()},W=()=>{if("today"===HFSconfig.brand){const a=new URLSearchParams(n.location.search).get("account");"signup"===a?E.identity.authenticate({defaultPage:"createProfile"}):"login"===a&&E.identity.authenticate({defaultPage:"logIn"})}},X=a=>{E.eventDispatch(x("id","state",{state:a})),S();return a===u&&W(),a===t?U():V()},Y=a=>{E.eventDispatch(x("id","result",{result:a})),S()},Z=o.getElementsByTagName("head")[0],$=o.createElement("script");$.setAttribute("type","text/javascript"),$.setAttribute("src",E.identity.config.sdkSource),$.setAttribute("defer",!0),Z.addEventListener("load",a=>{try{"SCRIPT"===a.target.nodeName&&a.target.getAttribute("src")===E.identity.config.sdkSource&&(X(E.identity.authenticationState),Y(E.identity.authenticationResult),E.identity.healthCheck().then(a=>{a&&(E.identity.initialize().then(T).catch(R),E.identity.on("authenticationState",X),E.identity.on("registrationResult",Y))}).catch(R))}catch(a){R(a)}},!0),window.addEventListener("load",()=>{setTimeout(()=>{Z.appendChild($)},0)})}function e(){const a=E.QS(".menu"),b=E.QS(".hamburger.js-menu-toggle"),c=a.querySelectorAll("input, button, [href]"),d=c[1];c.forEach(a=>a.setAttribute("tabindex","-1"));const e=a=>{const b="Tab"===a.key;if(!b)return;const d=Array.from(c).filter(a=>"0"===a.getAttribute("tabindex")&&!a.classList.contains("overlay")),e=d[0],f=d[d.length-1];a.shiftKey?document.activeElement===e&&(f.focus(),a.preventDefault()):document.activeElement===f&&(e.focus(),a.preventDefault())};A(".js-menu-toggle",a=>a.addEventListener("click",K)),A(".parent-item",a=>a.addEventListener("click",N)),A(".back-item",a=>a.addEventListener("click",O)),A(".menu-select",a=>{a&&a.addEventListener("click",a=>a.stopPropagation())}),E.eventListenAdd(w.menu.open,()=>{E.eventListenAdd("transitionend",function a(){d.focus({preventScroll:!0}),E.eventListenRem("transitionend",a)}),E.navCls.add("menu-open"),0>=E.nav.getBoundingClientRect().top&&E.navCls.add("stuck"),a.scrollTop=0,n.dispatchEvent(y),b.setAttribute("aria-expanded","true"),c.forEach(a=>a.setAttribute("tabindex","0")),a.addEventListener("keydown",e)}),E.eventListenAdd(w.menu.close,()=>{E.navCls.has("menu-open")&&b.focus(),E.navCls.rem("stuck"),E.navCls.rem("menu-open"),a.removeAttribute("style"),b.setAttribute("aria-expanded","false"),c.forEach(a=>a.setAttribute("tabindex","-1")),a.removeEventListener("keydown",e)})}function f(){function a(a){a.querySelector("svg").outerHTML=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
      eslint-disable-next-line max-len
      <path fill-rule="evenodd" clip-rule="evenodd" d="M33 27.7428C33 27.1579 32.9068 27.0322 32.3323 26.7092C32.32 26.7022 31.9255 26.4854 31.7957 26.4103C31.553 26.27 31.3436 26.135 31.139 25.9816C29.376 24.6601 28.5 23.2958 28.5 18.6666C28.2199 16.2609 26.7276 13.6304 24.1317 12.7617L23.3277 12.4927L23.472 11.6788C23.4919 11.5666 23.5 11.4956 23.5 11.4384C23.5 10.6453 22.8304 10 22 10C21.1696 10 20.5 10.6453 20.5 11.4384C20.5 11.4956 20.5081 11.5666 20.528 11.6788L20.6229 12.6087L19.8683 12.7617C17.2724 13.6304 15.5582 16.2609 15.5 18.6666C15.5 23.2958 14.624 24.6601 12.861 25.9816C12.6564 26.135 12.447 26.27 12.2043 26.4103C12.0745 26.4854 11.68 26.7022 11.6677 26.7092C11.0932 27.0322 11 27.1579 11 27.7428C11 28.4574 14.1595 29.63 18.6514 30.0064L19.7536 30.0987L19.5481 31.1542C19.5159 31.3197 19.5 31.464 19.5 31.5979C19.5 32.9229 20.6176 34 22 34C23.3824 34 24.5 32.9229 24.5 31.5979C24.5 31.464 24.4841 31.3197 24.4519 31.1542L24.2464 30.0987L25.3486 30.0064C29.8405 29.63 33 28.4574 33 27.7428Z" fill="currentColor"/>
      </svg>
      `}const{showBreakingNewsDigest:b}=HFSconfig.header||{};if(!b||"news"!==HFSconfig.brand)return;const c=E.QS(".bell-icon"),d=E.QS(".local-wrap");c.style.display="block";const e=E.QS(".digest");(function(){const a=a=>{d.style.marginRight=a.matches?"90px":"0"};a(s),s.addEventListener("change",a)})();const f=E.QS(".bell-icon.js-digest-toggle");f.addEventListener("click",()=>{a(f)}),f.addEventListener("keydown",b=>{"Enter"===b.key&&a(f)});const g=e.querySelectorAll("input, button, [href]"),h=g[1];g.forEach(a=>a.setAttribute("tabindex","-1"));const i=a=>{const b="Tab"===a.key;if(!b)return;const c=Array.from(g).filter(a=>"0"===a.getAttribute("tabindex")&&!a.classList.contains("overlay")),d=c[0],e=c[c.length-1];a.shiftKey?document.activeElement===d&&(e.focus(),a.preventDefault()):document.activeElement===e&&(d.focus(),a.preventDefault())};A(".js-digest-toggle",a=>a.addEventListener("click",M)),A(".parent-item",a=>a.addEventListener("click",N)),A(".back-item",a=>a.addEventListener("click",O)),E.eventListenAdd(w.digest.open,()=>{E.eventListenAdd("transitionend",function a(){null===h||void 0===h?void 0:h.focus({preventScroll:!0}),E.eventListenRem("transitionend",a)}),E.navCls.add("digest-open"),0>=E.nav.getBoundingClientRect().top&&E.navCls.add("stuck"),e.scrollTop=0,n.dispatchEvent(y),f.setAttribute("aria-expanded","true"),g.forEach(a=>a.setAttribute("tabindex","0")),e.addEventListener("keydown",i)}),E.eventListenAdd(w.digest.close,()=>{E.navCls.has("digest-open")&&f.focus(),E.navCls.rem("stuck"),E.navCls.rem("digest-open"),e.removeAttribute("style"),f.setAttribute("aria-expanded","false"),g.forEach(a=>a.setAttribute("tabindex","-1")),e.removeEventListener("keydown",i)})}function g(){E.eventListenAdd(w.menu.close,D.enable),E.eventListenAdd(w.menu.open,()=>{D.disable(".js-menu-selector")}),E.eventListenAdd(w.digest.close,D.enable),E.eventListenAdd(w.digest.open,()=>{D.disable(".js-digest-toggle")}),E.eventListenAdd(w.search.close,D.enable),E.eventListenAdd(w.search.open,D.disable),E.eventListenAdd(w.share.close,D.enable),E.eventListenAdd(w.share.open,()=>{758>=n.innerWidth&&D.disable(".js-share-selector")})}function h(){const a=E.QS(".search-icon");a&&(E.QS(".js-search-open").addEventListener("click",()=>{E.navCls.add("search-open"),E.eventDispatch(x("search","open",{isOpen:!0}))}),E.QS(".js-search-close").addEventListener("click",()=>{E.navCls.rem("search-open"),E.navCls.has("menu-open")||E.eventDispatch(x("search","close",{isOpen:!1}))}),A(".js-search-form",a=>{a.addEventListener("submit",a=>{a.preventDefault();const b=a.target;"post"===b.method.toLowerCase()&&(b.action+=encodeURI(b.querySelector("input[type=\"search\"]").value)),b.submit()})}),A(".js-search-input",a=>{a.addEventListener("focus",a=>{z(a.target.form).add("active")}),a.addEventListener("blur",a=>{a.target.value.length||z(a.target.form).rem("active")})}))}function i(){const{navCls:a}=E,b=()=>{a.add("share-close"),a.rem("share-open"),setTimeout(()=>{a.rem("share-close")},500)},c=E.QS(".js-share-toggle");c&&(c.addEventListener("click",()=>{a.has("share-open")?E.eventDispatch(x("share","close",{isOpen:!1})):E.eventDispatch(x("share","open",{isOpen:!0}))}),E.eventListenAdd(w.share.open,()=>{a.rem("share-close"),a.add("share-open")}),E.eventListenAdd(w.share.close,b),E.eventListenAdd(w.menu.open,b),E.eventListenAdd(w.digest.open,b),E.eventListenAdd(w.search.open,b),E.eventListenAdd(w.local.inactive,()=>{E.navCls.rem("share-open")}))}function j(){const{nav:a,navCls:b}=E,c=({position:c,force:d=!1})=>{const e=b.has("stuck"),{top:f}=E.sel.getBoundingClientRect();if(H){const g=c>f+n.pageYOffset-H;(d||!e)&&g?(b.add("stuck"),a.style.top=`${H}px`):(d||e)&&!g&&(b.rem("stuck"),a.style.top="")}else b.toggle("stuck",c>f+n.pageYOffset),a.style.top=""},d=new MutationObserver(()=>{I(),c({position:n.pageYOffset,force:!0}),n.dispatchEvent(y)});for(({previousSibling:G}=E.sel);null!==G;){if(-1<["DIV"].indexOf(G.nodeName)){const{position:a}=n.getComputedStyle(G);("fixed"===a||"sticky"===a)&&d.observe(G,{attributes:!0,attributeFilter:["class"],characterData:!1})}({previousSibling:G}=G)}I(),C.add(c),c({position:n.pageYOffset,force:!0})}function k(){const a=n.$t||function(){const b=function(...c){return 1<=c.length&&"getSaves"!==c[0]&&b.e.push(c),"getSaves"===c[0]?b.e:""};return b.e=[],b.stub="2.0",b}(),b={hmbClick:"mbt_navbar_hamburgerClick",digestClick:"mbt_navbar_bellIconClick",idClick:"hfs_identity_iconClick",idError:"hfs_identity_error",idInit:"hfs_identity_init",idResult:"hfs_identity_result",idState:"hfs_identity_state",shrClick:"mbt_navbar_shareClick",ddHover:"hfs_navbar_submenu_hover",ddClick:"hfs_navbar_submenu_click"},c=Object.values(b),d=document.querySelectorAll("[data-track-event]");for(let b=0;b<d.length;b+=1){const{trackEvent:e,trackKey:f,trackValue:g}=d[b].dataset;e&&(-1===c.indexOf(e)&&c.push(e),f&&g&&d[b].addEventListener("click",()=>{a("track",e,{[f]:g})}))}a("register",c),E.eventListenAdd(w.dropdown.open,c=>{a("track",b.ddHover,c.detail)}),E.eventListenAdd(w.dropdown.click,c=>{a("track",b.ddClick,c.detail)}),E.eventListenAdd(w.share.open,c=>{a("track",b.shrClick,c.detail)}),E.eventListenAdd(w.share.close,c=>{a("track",b.shrClick,c.detail)}),E.eventListenAdd(w.menu.open,c=>{a("track",b.hmbClick,c.detail)}),E.eventListenAdd(w.menu.close,c=>{a("track",b.hmbClick,c.detail)}),E.eventListenAdd(w.digest.open,c=>{a("track",b.digestClick,c.detail)});const{enableIdentity:e}=HFSconfig.header||{};e&&(E.eventListenAdd(w.id.click,c=>{a("track",b.idClick,c.detail)}),E.eventListenAdd(w.id.error,c=>{a("track",b.idError,c.detail)}),E.eventListenAdd(w.id.init,c=>{a("track",b.idInit,c.detail)}),E.eventListenAdd(w.id.result,c=>{const d={...c.detail};!1===E.identity.isLegacySdk&&E.identity.user.givenName&&(d.givenName=E.identity.user.givenName),a("track",b.idResult,d)}),E.eventListenAdd(w.id.state,c=>{a("track",b.idState,c.detail)}))}function l(){function a(){E.eventDispatch(x("menu","close",{isOpen:!1})),o.querySelector("#queryly_query").focus()}const b=E.QS(".js-hmb-queryly-search");b&&b.addEventListener("click",()=>{setTimeout(a,1e3)})}function m(){const{useSmallNav:t=!1,setDuration:u=null,shortcuts:v=!0,activeAt:m,primary:n,social:p,theme:r,url:s}=HFSconfig.header||{};E.sel=o.getElementById("hfs-header"),E.QS=E.sel.querySelector.bind(E.sel),E.nav=E.QS("nav.hfsh");const w=z(E.nav);E.navCls=w,w.has("init")||w.add("init"),r&&-1!==q.indexOf(r)&&w.add(r),t&&w.add("small"),v&&w.add("show-shortcuts"),C.add(({position:a})=>{w.toggle("scrolled",0<a)}),m&&(C.add(({position:a})=>{!w.has("active")&&a>=m?E.activate():w.has("active")&&a<m&&E.deactivate()}),null!==u&&-1<u&&E.nav.style.setProperty("--hfs-local-duration",`${u}s`)),a(),c(),g(),j(),e(),f(),i(),h(),k(),d(),P(),l(),b(),E.updateHeadline(n),E.updateSocial(s,p),o.addEventListener("keyup",a=>{a.key&&"Escape"===a.key&&(E.eventDispatch(x("search","close",{isOpen:!1})),E.eventDispatch(x("menu","close",{isOpen:!1})),E.eventDispatch(x("share","close",{isOpen:!1})))}),E.eventDispatch(x("init","done"))}const n=window,o=document,p=(a,b)=>/iPad|iPhone|iPod/.test(a)&&!b,q=["vertical","dark","transparent","transparentLight","light"],r=n.matchMedia("(max-width: 999px)"),s=n.matchMedia("(max-width: 757px)"),t="authenticated",u="unauthenticated",v={createProfile:"signUp",logIn:"signIn",createProfileEmailOnly:"signupWithEmail"},w={init:{done:"HFS.init.done"},global:{reveal:"HFS.global.reveal",stash:"HFS.global.stash"},id:{error:"HFS.identity.error",init:"HFS.identity.init",result:"HFS.identity.result",state:"HFS.identity.state",click:"HFS.identity.click"},local:{active:"HFS.local.active",inactive:"HFS.local.inactive"},menu:{close:"HFS.menu.close",open:"HFS.menu.open"},digest:{close:"HFS.digest.close",open:"HFS.digest.open"},search:{close:"HFS.search.close",open:"HFS.search.open"},share:{close:"HFS.share.close",open:"HFS.share.open"},dropdown:{open:"HFS.dropdown.open",click:"HFS.dropdown.click"}},x=(a,b,c=null)=>new CustomEvent(w[a][b],{detail:c}),y=new CustomEvent("HFS.recalculateHeight"),z=a=>({add(b){return a.classList&&a.classList.add(b),this},rem(b){return a.classList&&a.classList.remove(b),this},toggle(a,b=null){const c=this.has(a);return"boolean"==typeof b?b&&!c?this.add(a):!b&&c&&this.rem(a):this[c?"rem":"add"](a),this},has(b){return!!a.classList&&a.classList.contains(b)}}),A=(a,b)=>{const c=o.querySelectorAll(a);for(let d=0;d<c.length;d+=1)b.call(void 0,c[d])};class B{constructor(a){this.cb=[],this.on=!1,this.type=a}run(){this.cb.forEach(a=>{a()}),this.on=!1}listen(){this.on||(this.on=!0,n.requestAnimationFrame?n.requestAnimationFrame(()=>{this.run.call(this)}):setTimeout(this.run,66))}add(a){return this.cb.length||n.addEventListener(this.type,()=>{this.listen.call(this)}),!!a&&this.cb.push(a)}}const C=new class a extends B{constructor(){super("scroll")}run(){this.cb.forEach(a=>{a({position:this.lastPosition,down:this.scrollDown})}),this.on=!1}listen(){this.scrollDown=n.pageYOffset>this.lastPosition,this.lastPosition=n.pageYOffset,super.listen()}},D={selector:null,allow:!0,originalEvent:null,toggle:a=>{D[D.allow?"disable":"enable"](a)},isDescendant:(a,b)=>{for(let c=b.parentNode;null!=c;){if(c===a)return!0;c=c.parentNode}return!1},iosHandler:a=>{const b=o.querySelector(D.selector);D.isDescendant(b,a.target)||a.preventDefault(),D.originalEvent&&D.originalEvent.target===a.target||(D.originalEvent=a),a.pageY<D.originalEvent.pageY&&0>=b.scrollHeight-b.scrollTop-b.clientHeight?a.preventDefault():a.pageY>D.originalEvent.pageY&&0>=b.scrollTop&&a.preventDefault()},disable:a=>{const b=p(navigator.userAgent,n.MSStream);D.selector=a||null,D.allow=!1,D.selector&&b?(n.addEventListener("wheel",D.iosHandler,{passive:!1}),n.addEventListener("touchmove",D.iosHandler,{passive:!1})):o.querySelector("body").style.overflow="hidden"},enable:()=>{const a=p(navigator.userAgent,n.MSStream);D.allow=!0,a?(n.removeEventListener("wheel",D.iosHandler,{passive:!1}),n.removeEventListener("touchmove",D.iosHandler,{passive:!1})):o.querySelector("body").style.overflow=null}},E={sel:null,navCls:null,QS:null,eventDispatch(a){this.sel&&this.sel.dispatchEvent(a)},eventListenAdd(a,b){this.sel&&this.sel.addEventListener(a,b)},eventListenRem(a,b){this.sel&&this.sel.removeEventListener(a,b)},updateHeadline(a){let b=null;a&&(b=a);const c=this.QS(".js-headline-text");c&&(c.innerHTML=b),HFSconfig.header.primary=b},updateSocial(a,b){let c=null;a&&/^https?:\/\/[^ "]+$/.test(a)&&(c=a);let d="";b&&"string"==typeof b&&(d=encodeURIComponent(b.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,"\""))),A(".js-hfs-share",a=>{const{key:b,template:e}=a.dataset,f=p(navigator.userAgent,n.MSStream);let g=e.replace(/URL/,decodeURI(c));g=g.replace(/HEADLINE/,d),g=g.replace(/VIA/,n._HFS&&n._HFS.social?n._HFS.social:""),"sms"===b&&f&&(g=g.replace("?body","&body")),a.setAttribute("href",g)}),HFSconfig.header.url=c,HFSconfig.header.social=decodeURIComponent(d)},updateTheme(a){this.navCls&&(q.forEach(a=>{this.navCls.rem(a)}),-1<q.indexOf(a)&&this.navCls.add(a))},activate(){this.eventDispatch(x("local","active")),this.navCls.add("active")},deactivate(){this.eventDispatch(x("local","inactive")),this.navCls.rem("active")},enableGlobalInsert(){this.navCls.add("has-global-insert")},disableGlobalInsert(){this.navCls.rem("has-global-insert")},enableLocalInsert(){this.navCls.add("has-local-insert")},disableLocalInsert(){this.navCls.rem("has-local-insert")},enableMobileNavInsert(){this.navCls.add("has-mobilenav-insert")},disableMobileNavInsert(){this.navCls.rem("has-mobilenav-insert")}};n.HFSapi=E;class F{constructor(a){this.config=n._HFS.identity||{},this.isLegacySdk="news"===a}get authenticationState(){var a,b;return this.isLegacySdk?null===(a=n.Identity)||void 0===a?void 0:a.state:null===(b=n.nbc)||void 0===b?void 0:b.identity.authenticationState}get authenticationResult(){var a;return this.isLegacySdk?n.Identity.result:null===(a=n.nbc)||void 0===a?void 0:a.identity.authenticationResult}get user(){var a;if(this.isLegacySdk){var b;return(null===(b=n.Identity)||void 0===b?void 0:b.user)||{}}const{_id:c,...d}=(null===(a=n.nbc)||void 0===a?void 0:a.identity.profile)||{};return{id:c,...d}}get token(){var a,b;return this.isLegacySdk?null===(a=n.Identity)||void 0===a?void 0:a.token:null===(b=n.nbc)||void 0===b?void 0:b.identity.token}authenticate({defaultPage:a="createProfile"}={}){var b;return this.isLegacySdk?n.Identity.authenticate({defaultPage:v[a]||a}):null===(b=n.nbc)||void 0===b?void 0:b.identity.launch({registrationReferrer:"None",defaultPage:a,redirectUrl:n.location.hostname})}healthCheck(){var a;const{env:b}=this.config.options;return this.isLegacySdk?n.Identity.getHealth(b):null===(a=n.nbc)||void 0===a?void 0:a.identity.healthCheck(b)}initialize(){var a;const{appKey:b,options:c}=this.config;return this.isLegacySdk?n.Identity.initialize(b,c):null===(a=n.nbc)||void 0===a?void 0:a.identity.initialize(b,c)}on(a,b){var c;return this.isLegacySdk?n.Identity.on({authenticationState:"state",registrationResult:"result"}[a],b):null===(c=n.nbc)||void 0===c?void 0:c.identity.on(a,b)}unauthenticate(){var a;return this.isLegacySdk?n.Identity.unauthenticate():null===(a=n.nbc)||void 0===a?void 0:a.identity.unauthenticate()}}let G,H=0;const I=()=>{for(({previousSibling:G}=E.sel),H=0;null!==G;){if(-1<["DIV"].indexOf(G.nodeName)){const{position:a,display:b}=n.getComputedStyle(G),{height:c}=G.getBoundingClientRect();("fixed"===a||"sticky"===a)&&"none"!==b&&0<c&&(H+=c)}({previousSibling:G}=G)}},J=a=>{var b,c,d,e;const f=a.split("-");A("ul[data-menu-id]",b=>{const c=b.getAttribute("data-menu-id"),d=c.split("-"),e=d.every((a,b)=>a===f[b]);e?b.classList.remove("hidden"):b.classList.add("hidden"),1===d.length&&(1<f.length?b.classList.add("shortened"):b.classList.remove("shortened")),b.querySelectorAll(":scope > li > button, :scope > li > a").forEach(b=>b.setAttribute("tabindex",a===c?"0":"-1"))}),null===(b=E.QS(".menu .menu-select__more"))||void 0===b||null===(c=b.querySelectorAll("a"))||void 0===c?void 0:c.forEach(a=>a.setAttribute("tabindex",1===f.length?"0":"-1")),null===(d=E.QS(".menu .menu-select__follow"))||void 0===d||null===(e=d.querySelectorAll("a"))||void 0===e?void 0:e.forEach(a=>a.setAttribute("tabindex",1===f.length?"0":"-1"))},K=()=>{E.navCls.has("menu-open")?(E.eventDispatch(x("menu","close",{isOpen:!1})),J("0"),E.QS(".menu").querySelectorAll("button, a").forEach(a=>a.setAttribute("tabindex","-1"))):(E.eventDispatch(x("menu","open",{isOpen:!0})),J("0"))},L=a=>{const b=a.querySelector(".active-icon"),c=a.closest("a");a.addEventListener("click",()=>{if(b){b.classList.add("hide-active-icon");const a=`${c.href}${c.innerText}`,d={visited:!0,key:a,href:c.href,innerText:c.innerText};sessionStorage.setItem(a,JSON.stringify(d))}})},M=()=>{if(E.navCls.has("digest-open"))E.eventDispatch(x("digest","close",{isOpen:!1})),J("0"),E.QS(".digest").querySelectorAll("button, a").forEach(a=>a.setAttribute("tabindex","-1"));else{E.eventDispatch(x("digest","open",{isOpen:!0}));const a=E.QS(".digest").querySelectorAll(".article-link-anchor");a.forEach(L),J("0")}},N=a=>{const b=a.target.closest(".parent-item").getAttribute("data-menu-id");J(b),a.target.closest(".menu").scroll({top:0})},O=a=>{const b=a.target.closest(".back-item").getAttribute("data-menu-id").split("-");J(b.slice(0,b.length-1).join("-"))},P=()=>{const a=o.querySelectorAll(".search-button-trigger");a&&a.forEach(a=>{a.addEventListener("keyup",a=>{const b=o.getElementById("queryly_toggle");b&&("Enter"===a.key||" "===a.key)&&(b.checked=!0,b.dispatchEvent(new Event("change")))})})};n.addEventListener(y.type,()=>{const a=E.QS(".menu");if(a){const{navCls:b}=E,c=E.QS(".global"),{height:d=0}=c&&c.getBoundingClientRect()||{};let e=!1;if(H&&b.has("stuck"))e=H,b.has("stash-global")||(e+=d);else if(!b.has("stuck")){const{top:a=0}=E.sel.getBoundingClientRect();e=a+d}b.has("small")&&(e+=60),e?a.setAttribute("style",`height: calc(100vh - ${e}px)`):a.removeAttribute("style")}}),o.addEventListener("DOMContentLoaded",m),n.addEventListener("HFS.ready",a=>{"header"===a.detail&&m()})})();